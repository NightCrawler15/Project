#file detail scraping
import urllib2 as ulib
import csv

url = "https://online.citi.com/US/login.do"

page = ulib.urlopen(url)
column = ["Input", "Method", "Name", "Control Name", "Control Type"]

from bs4 import BeautifulSoup
soup = BeautifulSoup(page,"html5lib")

with open("formdetail.csv",'wb') as resultFile:
        wr = csv.writer(resultFile, dialect='excel')
        wr.writerows(column)

for form in soup.select('form'):
    #print form["name"]
    for iplist in form.select('input'):
        #print iplist.name
        #if iplist.name == "input" or iplist.name == "textarea":
            try:
                type1 = iplist["type"] 
            except Exception:
                type1 = "input"
            result_formdetail = [form.name,form["method"],form["name"],iplist["name"],type1]
            with open("formdetail.csv",'wb') as resultFile:
                wr = csv.writer(resultFile, dialect='excel')
                wr.writerows(result_formdetail)
    
    for iplist in form.select('textarea'):
            try:
                type1 = iplist["type"] 
            except Exception:
                type1 = "input"
            result_formdetail = [form.name,form["method"],form["name"],iplist["name"],type1]
            with open("formdetail.csv",'wb') as resultFile:
                wr = csv.writer(resultFile, dialect='excel')
                wr.writerows(result_formdetail)
